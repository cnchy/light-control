<view class="page data-v-3d0d2638"><music vue-id="1" data-ref="music" class="data-v-3d0d2638 vue-ref" bind:__l="__l"></music><cu-custom vue-id="2" bgImage="{{bg_titlebar}}" class="data-v-3d0d2638" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-3d0d2638">灯控列表</view></cu-custom><view class="allOnOff data-v-3d0d2638" style="{{'display:flex;justify-content:space-between;'+('background-image:'+($root.m0)+';')}}"><text data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="lightbtn data-v-3d0d2638" bindtap="__e">{{''+(isDropLight?'台灯控制':'吊灯控制')+''}}</text><text data-event-opts="{{[['tap',[['turnAllOnOff']]]]}}" bindtap="__e" class="data-v-3d0d2638">{{onOff?"关闭所有":"打开所有"}}</text><text data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="lightbtn data-v-3d0d2638" bindtap="__e">保存预设</text></view><scroll-view scroll-y class="data-v-3d0d2638"><block wx:if="{{isDropLight}}"><view class="room data-v-3d0d2638"><view class="roomhead data-v-3d0d2638"><view class="data-v-3d0d2638">区域一</view><view data-event-opts="{{[['tap',[['turnOnOffRoom',['$0'],['room1']]]]]}}" class="{{['roomSwitch data-v-3d0d2638',room1.onOff?'':'roomSwitchoff']}}" bindtap="__e"></view></view><view class="lightcontainer data-v-3d0d2638"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="indexs" wx:key="indexs"><view class="light data-v-3d0d2638"><view data-event-opts="{{[['tap',[['turnOnOff',['$0'],[[['room1.lights','',indexs]]]]]]]}}" class="light-img data-v-3d0d2638" style="{{'color:'+(item.m1)+';'}}" bindtap="__e"><label class="iconfont  icon-diaodeng _span data-v-3d0d2638"></label></view><block wx:if="{{item.$orig.onOff}}"><view class="light-spec data-v-3d0d2638" style="{{'background:'+('radial-gradient('+item.m2+'25% ,transparent 80%)')+';'}}"></view></block><view data-event-opts="{{[['tap',[['setLight',['$0'],[[['room1.lights','',indexs]]]]]]]}}" class="light-img-setting data-v-3d0d2638" bindtap="__e"><label class="iconfont  icon-shezhi _span data-v-3d0d2638"></label></view><view class="light-index data-v-3d0d2638">{{''+(item.$orig.no+"#")+''}}</view></view></block></view></view></block><block wx:if="{{isDropLight}}"><view class="room data-v-3d0d2638"><view class="roomhead data-v-3d0d2638"><view class="data-v-3d0d2638">区域二</view><view data-event-opts="{{[['tap',[['turnOnOffRoom',['$0'],['room2']]]]]}}" class="{{['roomSwitch data-v-3d0d2638',room2.onOff?'':'roomSwitchoff']}}" bindtap="__e"></view></view><view class="lightcontainer data-v-3d0d2638"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="indexs" wx:key="indexs"><view class="light data-v-3d0d2638"><view data-event-opts="{{[['tap',[['turnOnOff',['$0'],[[['room2.lights','',indexs]]]]]]]}}" class="light-img data-v-3d0d2638" style="{{'color:'+(item.m3)+';'}}" bindtap="__e"><label class="iconfont  icon-diaodeng _span data-v-3d0d2638"></label></view><block wx:if="{{item.$orig.onOff}}"><view class="light-spec data-v-3d0d2638" style="{{'background:'+('radial-gradient('+item.m4+'25% ,transparent 80%)')+';'}}"></view></block><view class="light-img-setting data-v-3d0d2638"><label data-event-opts="{{[['tap',[['setLight',['$0'],[[['room2.lights','',indexs]]]]]]]}}" class="iconfont  icon-shezhi _span data-v-3d0d2638" bindtap="__e"></label></view><view class="light-index data-v-3d0d2638">{{''+(item.$orig.no+"#")+''}}</view></view></block></view></view></block><block wx:if="{{!isDropLight}}"><view class="room data-v-3d0d2638"><view class="roomhead data-v-3d0d2638"><view class="data-v-3d0d2638">台灯</view><view data-event-opts="{{[['tap',[['turnOnOffRoom',['$0'],['desklamps']]]]]}}" class="{{['roomSwitch data-v-3d0d2638',desklamps.onOff?'':'roomSwitchoff']}}" bindtap="__e"></view></view><view class="lightcontainer data-v-3d0d2638"><block wx:for="{{$root.l2}}" wx:for-item="item" wx:for-index="indexs" wx:key="indexs"><view class="light data-v-3d0d2638"><view data-event-opts="{{[['tap',[['turnOnOff',['$0'],[[['desklamps.lights','',indexs]]]]]]]}}" class="light-img data-v-3d0d2638" style="{{'color:'+(item.m5)+';'}}" bindtap="__e"><label class="iconfont  icon-taideng _span data-v-3d0d2638"></label></view><block wx:if="{{item.$orig.onOff}}"><view class="light-spec data-v-3d0d2638" style="{{'background:'+('radial-gradient('+item.m6+'25% ,transparent 80%)')+';'}}"></view></block><view class="light-img-setting data-v-3d0d2638"><label data-event-opts="{{[['tap',[['setLight',['$0'],[[['desklamps.lights','',indexs]]]]]]]}}" class="iconfont  icon-shezhi _span data-v-3d0d2638" bindtap="__e"></label></view><view class="light-index data-v-3d0d2638">{{''+(item.$orig.no+"#")+''}}</view></view></block></view></view></block><uni-popup style="z-index:1030;margin-bottom:60rpx;" vue-id="3" type="bottom" data-ref="popup" class="data-v-3d0d2638 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{currentLight!=null}}"><view class="room data-v-3d0d2638"><view class="data-v-3d0d2638"><text data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" style="color:white;" bindtap="__e" class="data-v-3d0d2638">{{currentLight.no+'号灯'}}</text><text data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="lightbtn data-v-3d0d2638" style="color:#00F3FF;right:0px;position:absolute;" bindtap="__e">高级设置<block wx:if="{{advence}}"><label class="iconfont  icon-shouqi _span data-v-3d0d2638"></label></block><block wx:if="{{!advence}}"><label class="iconfont  icon-zhankai _span data-v-3d0d2638"></label></block></text></view><block wx:if="{{!advence}}"><view class="setpanel data-v-3d0d2638"><view class="data-v-3d0d2638">色温(K)</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="2000" max="10000" step="10" value="{{currentLight.colortempreture}}" data-event-opts="{{[['change',[['changeColorTemp',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" vue-id="{{('4')+','+('3')}}" min="2000" max="10000" step="10" value="{{currentLight.colortempreture}}" data-event-opts="{{[['^change',[['changeColorTemp',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view><view class="data-v-3d0d2638">亮度</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="0" max="100" value="{{currentLight.info.A}}" data-event-opts="{{[['change',[['changeA',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" vue-id="{{('5')+','+('3')}}" min="0" max="100" value="{{currentLight.info.A}}" data-event-opts="{{[['^change',[['changeA',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view><block wx:if="{{currentLight.info.D!=undefined}}"><view class="data-v-3d0d2638"><view class="data-v-3d0d2638">光束角(°)</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="15" max="60" value="{{currentLight.info.D}}" data-event-opts="{{[['change',[['changeD',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" vue-id="{{('6')+','+('3')}}" min="15" max="60" value="{{currentLight.info.D}}" data-event-opts="{{[['^change',[['changeD',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view></view></block></view></block><block wx:if="{{advence}}"><view class="setpanel data-v-3d0d2638"><view class="data-v-3d0d2638">红色</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="0" max="999" value="{{currentLight.info.R}}" data-event-opts="{{[['change',[['changeR',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" style="width:20%;float:left;" vue-id="{{('7')+','+('3')}}" min="0" max="999" value="{{currentLight.info.R}}" data-event-opts="{{[['^change',[['changeR',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view><view class="data-v-3d0d2638">绿色</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="0" max="999" value="{{currentLight.info.G}}" data-event-opts="{{[['change',[['changeG',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" vue-id="{{('8')+','+('3')}}" min="0" max="999" value="{{currentLight.info.G}}" data-event-opts="{{[['^change',[['changeG',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view><view class="data-v-3d0d2638">蓝色</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="0" max="999" value="{{currentLight.info.B}}" data-event-opts="{{[['change',[['changeB',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><view class="adjustNumber data-v-3d0d2638"><yp-number-box vue-id="{{('9')+','+('3')}}" min="0" max="999" value="{{currentLight.info.B}}" data-event-opts="{{[['^change',[['changeB',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" class="data-v-3d0d2638" bind:__l="__l"></yp-number-box></view></view><view class="data-v-3d0d2638">暖度</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="0" max="999" value="{{currentLight.info.H}}" data-event-opts="{{[['change',[['changeH',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" vue-id="{{('10')+','+('3')}}" min="0" max="999" value="{{currentLight.info.H}}" data-event-opts="{{[['^change',[['changeH',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view><view class="data-v-3d0d2638">冷度</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="0" max="999" value="{{currentLight.info.L}}" data-event-opts="{{[['change',[['changeL',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" vue-id="{{('11')+','+('3')}}" min="0" max="999" value="{{currentLight.info.L}}" data-event-opts="{{[['^change',[['changeL',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view><view class="data-v-3d0d2638">亮度</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="0" max="100" value="{{currentLight.info.A}}" data-event-opts="{{[['change',[['changeA',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" vue-id="{{('12')+','+('3')}}" min="0" max="100" value="{{currentLight.info.A}}" data-event-opts="{{[['^change',[['changeA',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view><block wx:if="{{currentLight.info.D!=undefined}}"><view class="data-v-3d0d2638"><view class="data-v-3d0d2638">光束角(°)</view><view class="adjust data-v-3d0d2638"><slider class="adjustSlider data-v-3d0d2638" min="15" max="60" value="{{currentLight.info.D}}" data-event-opts="{{[['change',[['changeD',['$event','$0'],['currentLight']]]]]}}" bindchange="__e"></slider><yp-number-box class="adjustNumber data-v-3d0d2638" vue-id="{{('13')+','+('3')}}" min="15" max="60" value="{{currentLight.info.D}}" data-event-opts="{{[['^change',[['changeD',['$event','$0'],['currentLight']]]]]}}" bind:change="__e" bind:__l="__l"></yp-number-box></view></view></block></view></block><view style="height:80rpx;" class="data-v-3d0d2638"></view></view></block></uni-popup></scroll-view><block wx:if="{{presetShow}}"><view class="modelBox data-v-3d0d2638"><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" class="shade data-v-3d0d2638" bindtap="__e"></view><view class="model data-v-3d0d2638"><view class="modelTitle data-v-3d0d2638">请输入预设方案名称</view><view class="modelInput data-v-3d0d2638"><input placeholder-class="inputStyle" focus data-event-opts="{{[['input',[['__set_model',['','presetName','$event',[]]]]]]}}" value="{{presetName}}" bindinput="__e" class="data-v-3d0d2638"/></view><view class="modeBtnBox data-v-3d0d2638"><view data-event-opts="{{[['tap',[['e5',['$event']]]]]}}" bindtap="__e" class="data-v-3d0d2638">取消</view><view data-event-opts="{{[['tap',[['savePreset']]]]}}" bindtap="__e" class="data-v-3d0d2638">确定</view></view></view></view></block></view>