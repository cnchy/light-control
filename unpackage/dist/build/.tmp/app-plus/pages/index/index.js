(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0ffa":function(t,e,o){},"3fe9":function(t,e,o){"use strict";(function(t){o("a0ed");n(o("66fd"));var e=n(o("ec7a"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},"52d9":function(t,e,o){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o("5d00");function i(t){return s(t)||a(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}var c=o("b1da"),u={data:function(){return{PageCur:"basics",plugins:c,presetName:"方案",connectStatus:!1,room1:{onOff:!0,lights:[{id:"01",no:"15",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"02",no:"01",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"03",no:"04",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"04",no:"09",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"05",no:"06",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"06",no:"02",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"07",no:"11",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"08",no:"03",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}}]},desklamps:{onOff:!0,lights:[{id:"01",no:"21",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"02",no:"22",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"03",no:"23",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"04",no:"24",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"05",no:"25",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"06",no:"26",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"07",no:"27",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"08",no:"28",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"09",no:"29",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"10",no:"30",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}}]},room2:{onOff:!0,lights:[{id:"09",no:"16",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"10",no:"13",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"11",no:"14",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"12",no:"05",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"13",no:"10",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"14",no:"12",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"15",no:"08",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"16",no:"07",onOff:!0,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}}]}}},onReady:function(){var e=this;console.log(t("进来初始化灯"," at pages\\index\\index.vue:447")),setInterval(function(){e.checkConnectStatus()},3e3),this.setLastSetting()},methods:{setLastSetting:function(){console.log(t("开始发送上次数据"," at pages\\index\\index.vue:455"));var e=this;n.getStorage({key:"lastSetting",success:function(t){t.data.room1&&t.data.room2&&t.data.desklamps&&(e.$refs.lightList.onOff=t.data.onOff,e.$refs.lightList.room1=t.data.room1,e.$refs.lightList.room2=t.data.room2,e.$refs.lightList.desklamps=t.data.desklamps)}})},checkConnectStatus:function(){var t=this;this.plugins.checkConnectStatus(function(e){t.connectStatus="true"==e},function(t){n.showToast({title:t})})},NavChange:function(t){var e=this;this.PageCur=t.currentTarget.dataset.cur,"basics"==t.currentTarget.dataset.cur&&this.$nextTick(function(){e.$refs.lightList.onOff,n.getStorage({key:"lastSetting",success:function(t){t.data.room1&&t.data.room2&&t.data.desklamps&&(e.room1=t.data.room1,e.room2=t.data.room2,e.desklamps=t.data.desklamps,e.$refs.lightList.onOff=t.data.onOff,e.$refs.lightList.room1=e.room1,e.$refs.lightList.room2=e.room2,e.$refs.lightList.desklamps=e.desklamps,e.$refs.lightList.$forceUpdate())}})})},preset:function(t){this.presetName=t.name,this.room1=t.data.room1,this.room2=t.data.room2,this.desklamps=t.data.desklamps,this.userPresert()},userPresert:function(){var t=this;n.showLoading({title:"请稍等..."}),this.room1.lights.forEach(function(e){if(e.onOff){var o="!S"+e.no+"_R"+t.getLengthStr(e.info.R)+"_G"+t.getLengthStr(e.info.G)+"_B"+t.getLengthStr(e.info.B)+"_H"+t.getLengthStr(e.info.H)+"_L"+t.getLengthStr(e.info.L)+"_pp#";t.send(o),o="!S"+e.no+"_A"+t.getLengthStr(Math.round(9.99*e.info.A))+"_pp#",t.send(o);var n=(0,r.getLightDegree)(e.no,e.info.D);o="!S"+e.no+"_D"+t.getLengthStr(n)+"_pp#",t.send(o)}}),this.room2.lights.forEach(function(e){if(e.onOff){var o="!S"+e.no+"_R"+t.getLengthStr(e.info.R)+"_G"+t.getLengthStr(e.info.G)+"_B"+t.getLengthStr(e.info.B)+"_H"+t.getLengthStr(e.info.H)+"_L"+t.getLengthStr(e.info.L)+"_pp#";t.send(o),o="!S"+e.no+"_A"+t.getLengthStr(Math.round(9.99*e.info.A))+"_pp#",t.send(o);var n=(0,r.getLightDegree)(e.no,e.info.D);o="!S"+e.no+"_D"+t.getLengthStr(n)+"_pp#",t.send(o)}}),this.desklamps.lights.forEach(function(e){if(e.onOff){var o="!S"+e.no+"_R"+t.getLengthStr(e.info.R)+"_G"+t.getLengthStr(e.info.G)+"_B"+t.getLengthStr(e.info.B)+"_H"+t.getLengthStr(e.info.H)+"_L"+t.getLengthStr(e.info.L)+"_pp#";t.send(o),o="!S"+e.no+"_A"+t.getLengthStr(Math.round(9.99*e.info.A))+"_pp#",t.send(o)}}),setTimeout(function(){n.hideLoading()},100)},getLengthStr:function(t){var e=t;return 0==t?e="000":t<10?e="00"+t:t<100&&(e="0"+t),e},send:function(e){console.log(t(e," at pages\\index\\index.vue:588")),n.getStorage({key:"logging",success:function(t){var o=t.data,r=(new Date).getTime();o=[r+"---\x3e"+e].concat(i(o)),o.length>20&&(o=o.splice(o.length-20,o.length-1)),n.setStorage({key:"logging",data:o,success:function(){}})},fail:function(t){var o=(new Date).getTime(),r=[o+"---\x3e"+e];n.setStorage({key:"logging",data:r,success:function(){}})}}),this.plugins.sendTcp(e,function(t){},function(t){})}}};e.default=u}).call(this,o("0de9")["default"],o("6e42")["default"])},"9d72":function(t,e,o){"use strict";var n=o("0ffa"),r=o.n(n);r.a},db1b:function(t,e,o){"use strict";o.r(e);var n=o("52d9"),r=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=r.a},eae0:function(t,e,o){"use strict";var n,r=function(){var t=this,e=t.$createElement;t._self._c},i=[];o.d(e,"b",function(){return r}),o.d(e,"c",function(){return i}),o.d(e,"a",function(){return n})},ec7a:function(t,e,o){"use strict";o.r(e);var n=o("eae0"),r=o("db1b");for(var i in r)"default"!==i&&function(t){o.d(e,t,function(){return r[t]})}(i);o("9d72");var f,a=o("f0c5"),s=Object(a["a"])(r["default"],n["b"],n["c"],!1,null,"12afd484",null,!1,n["a"],f);e["default"]=s.exports}},[["3fe9","common/runtime","common/vendor"]]]);