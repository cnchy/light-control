(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"01db":function(t,n,e){},"1b14":function(t,n,e){},"22e8":function(t,n,e){"use strict";e.r(n);var o=e("42d4"),i=e("b775");for(var r in i)"default"!==r&&function(t){e.d(n,t,function(){return i[t]})}(r);e("a2b7");var f,a=e("f0c5"),u=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"3d0d2638",null,!1,o["a"],f);n["default"]=u.exports},"42d4":function(t,n,e){"use strict";var o,i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.getOnOffImg()),o=t.__map(t.room1.lights,function(n,e){var o=t.getRgbColor(n),i=t.getRgbColor(n);return{$orig:t.__get_orig(n),m1:o,m2:i}}),i=t.__map(t.room2.lights,function(n,e){var o=t.getRgbColor(n),i=t.getRgbColor(n);return{$orig:t.__get_orig(n),m3:o,m4:i}}),r=t.__map(t.desklamps.lights,function(n,e){var o=t.getRgbColor(n),i=t.getRgbColor(n);return{$orig:t.__get_orig(n),m5:o,m6:i}});t._isMounted||(t.e0=function(n){t.isDropLight=!t.isDropLight},t.e1=function(n){t.presetShow=!0},t.e2=function(n){t.advence=!t.advence},t.e3=function(n){t.advence=!t.advence},t.e4=function(n){t.presetShow=!1},t.e5=function(n){t.presetShow=!1}),t.$mp.data=Object.assign({},{$root:{m0:e,l0:o,l1:i,l2:r}})},r=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return r}),e.d(n,"a",function(){return o})},"46ab":function(t,n,e){},"4b53":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("4698"));function i(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{bg_titlebar:o.default}},methods:{showType:function(t){this.tabbarIndex=t,this.list=this.orderList[t]}}};n.default=r},"4bad":function(t,n,e){"use strict";e.r(n);var o=e("4b53"),i=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);n["default"]=i.a},"5af5":function(t,n,e){"use strict";e.r(n);var o=e("a776"),i=e("b691");for(var r in i)"default"!==r&&function(t){e.d(n,t,function(){return i[t]})}(r);e("78b4");var f,a=e("f0c5"),u=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],f);n["default"]=u.exports},"5d11":function(t,n,e){"use strict";(function(t){e("a0ed");var n=a(e("66fd")),o=a(e("f1a4")),i=a(e("22e8")),r=a(e("9b66")),f=a(e("5af5"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(n){s(t,n,e[n])})}return t}function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}n.default.component("lightList",i.default);var c=function(){return e.e("colorui/components/cu-custom").then(e.bind(null,"171e"))};n.default.component("cu-custom",c),n.default.component("setting",r.default),n.default.component("preset",f.default);var l=function(){return Promise.all([e.e("common/vendor"),e.e("music/music")]).then(e.bind(null,"1051"))};n.default.component("music",l),n.default.config.productionTip=!1,o.default.mpType="app";var g=new n.default(u({},o.default));t(g).$mount()}).call(this,e("6e42")["createApp"])},"625b":function(t,n,e){"use strict";(function(t,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;e("5d00");var i=r(e("66fd"));function r(t){return t&&t.__esModule?t:{default:t}}var f=e("b1da"),a={data:function(){return{plugins:f}},onLaunch:function(){t.getSystemInfo({success:function(t){i.default.prototype.StatusBar=t.statusBarHeight,"android"==t.platform?i.default.prototype.CustomBar=t.statusBarHeight+50:i.default.prototype.CustomBar=t.statusBarHeight+45}}),t.getStorage({key:"internetInfo",fail:function(n){t.setStorage({key:"internetInfo",data:"192.168.4.1:8080",success:function(){}})}}),this.connect(),t.getStorage({key:"degreeMap",success:function(t){},fail:function(){t.setStorage({key:"degreeMap",data:{"01":[277,529],"02":[188,468],"03":[171,436],"04":[164,434],"05":[146,433],"06":[205,486],"07":[183,474],"08":[145,445],"09":[120,412],10:[163,490],11:[188,470],12:[207,480],13:[132,443],14:[150,500],15:[162,445],16:[160,472]},success:function(){}})}}),t.getStorage({key:"tempretureMap",success:function(t){},fail:function(){t.setStorage({key:"tempretureMap",data:{"2000k":[620,300,60,620,60],"3000k":[540,300,120,540,120],"4000k":[460,300,180,460,180],"5000k":[380,300,240,380,240],"6000k":[300,300,300,300,300],"7000k":[240,300,380,240,380],"8000k":[180,300,460,180,460],"9000k":[120,300,540,120,540],"10000k":[60,300,620,60,620]},success:function(){}})}})},onShow:function(){console.log(o("App Show"," at App.vue:104"))},onHide:function(){},methods:{connect:function(){try{var n=t.getStorageSync("internetInfo").split(":");console.log(o("系统第一次进来开始tcp连接"," at App.vue:114")),this.plugins.openTcp(n[0],n[1],function(t){},function(t){})}catch(e){t.showToast({title:"网络连接失败！请检查wifi连接 以及 IP端口配置！",icon:"none"})}}}};n.default=a}).call(this,e("6e42")["default"],e("0de9")["default"])},"6a52":function(t,n,e){},"6fb4":function(t,n,e){"use strict";var o=e("46ab"),i=e.n(o);i.a},"78b4":function(t,n,e){"use strict";var o=e("6a52"),i=e.n(o);i.a},"87e8":function(t,n,e){"use strict";e.r(n);var o=e("625b"),i=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);n["default"]=i.a},"9b66":function(t,n,e){"use strict";e.r(n);var o=e("a306"),i=e("4bad");for(var r in i)"default"!==r&&function(t){e.d(n,t,function(){return i[t]})}(r);e("6fb4");var f,a=e("f0c5"),u=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],f);n["default"]=u.exports},a2b7:function(t,n,e){"use strict";var o=e("1b14"),i=e.n(o);i.a},a306:function(t,n,e){"use strict";var o,i=function(){var t=this,n=t.$createElement;t._self._c},r=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return r}),e.d(n,"a",function(){return o})},a776:function(t,n,e){"use strict";var o,i=function(){var t=this,n=t.$createElement;t._self._c},r=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return r}),e.d(n,"a",function(){return o})},b691:function(t,n,e){"use strict";e.r(n);var o=e("f39a"),i=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);n["default"]=i.a},b775:function(t,n,e){"use strict";e.r(n);var o=e("f289"),i=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);n["default"]=i.a},e1f5:function(t,n,e){"use strict";var o=e("01db"),i=e.n(o);i.a},f1a4:function(t,n,e){"use strict";e.r(n);var o=e("87e8");for(var i in o)"default"!==i&&function(t){e.d(n,t,function(){return o[t]})}(i);e("e1f5");var r,f,a,u,s=e("f0c5"),c=Object(s["a"])(o["default"],r,f,!1,null,null,null,!1,a,u);n["default"]=c.exports},f289:function(t,n,e){"use strict";(function(t,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=f(e("4698")),r=e("5d00");function f(t){return t&&t.__esModule?t:{default:t}}function a(t){return c(t)||s(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}var l=e("b1da"),g=function(){return Promise.all([e.e("common/vendor"),e.e("components/yp-number-box/yp-number-box")]).then(e.bind(null,"427a"))},d=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"272b"))},h={components:{uniPopup:d,ypNumberBox:g},data:function(){return{isDropLight:!0,plugins:l,bg_titlebar:i.default,advence:!1,onOff:!1,presetShow:!1,presetName:"方案",currentLight:{id:"01",no:"15",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},room1:{onOff:!1,lights:[{id:"01",no:"15",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"02",no:"01",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"03",no:"04",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"04",no:"09",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"05",no:"06",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"06",no:"02",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"07",no:"11",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"08",no:"03",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}}]},desklamps:{onOff:!1,lights:[{id:"01",no:"21",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"02",no:"22",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"03",no:"23",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"04",no:"24",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"05",no:"25",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"06",no:"26",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"07",no:"27",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"08",no:"28",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"09",no:"29",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}},{id:"10",no:"30",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50}}]},room2:{onOff:!1,lights:[{id:"09",no:"16",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"10",no:"13",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"11",no:"14",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"12",no:"05",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"13",no:"10",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"14",no:"12",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"15",no:"08",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}},{id:"16",no:"07",onOff:!1,colortempreture:5e3,info:{R:222,G:333,B:444,H:555,L:666,A:50,D:40}}]}}},onHide:function(){console.log(t("页面关闭"," at pages\\lightList\\lightList.vue:615"))},methods:{turnAllOnOff:function(){var t=this,n=this;this.onOff=!this.onOff,o.showLoading({title:this.onOff?"开启中...":"关闭中..."}),setTimeout(function(){o.hideLoading()},1e3),this.onOff?o.getStorage({key:"lastSetting",success:function(t){t.data.room1&&t.data.room2&&t.data.desklamps&&(n.room1=t.data.room1,n.room2=t.data.room2,n.desklamps=t.data.desklamps),n.room1.onOff=n.onOff,n.room2.onOff=n.onOff,n.desklamps.onOff=n.onOff,n.room1.lights.forEach(function(t){t.onOff=n.onOff}),n.room2.lights.forEach(function(t){t.onOff=n.onOff}),n.desklamps.lights.forEach(function(t){t.onOff=n.onOff}),n.userPresert()}}):(this.saveLastSetting(),this.send("!S00_R000_G000_B000_H000_L000_pp#"),this.room1.onOff=this.onOff,this.room2.onOff=this.onOff,this.desklamps.onOff=this.onOff,this.room1.lights.forEach(function(n){n.onOff=t.onOff}),this.room2.lights.forEach(function(n){n.onOff=t.onOff}),this.desklamps.lights.forEach(function(n){n.onOff=t.onOff}))},turnOnOffRoom:function(t){var n=this;t.onOff=!t.onOff,t.lights.forEach(function(e){if(e.onOff=t.onOff,e.onOff)n.sigleLightSetting(e);else{var o="!S"+e.no+"_R000_G000_B000_H000_L000_pp#";n.send(o)}})},turnOnOff:function(t){if(t.onOff=!t.onOff,this.currentLight=t,this.$forceUpdate(),t.onOff)this.sigleLightSetting(t);else{var n="!S"+t.no+"_R000_G000_B000_H000_L000_pp#";this.send(n)}},getOnOffImg:function(){return this.onOff?"url('/static/btn_turnonall.png')":"url('/static/btn_turnoffall.png')"},changeColorTemp:function(t,n){n.colortempreture=t.detail.value;var e=(0,r.getColorTemperature)(t.detail.value);n.info.R=e[0],n.info.G=e[1],n.info.B=e[2],n.info.H=e[3],n.info.L=e[4];var o="!S"+n.no+"_R"+this.getLengthStr(n.info.R)+"_G"+this.getLengthStr(n.info.G)+"_B"+this.getLengthStr(n.info.B)+"_H"+this.getLengthStr(n.info.H)+"_L"+this.getLengthStr(n.info.L)+"_pp#";this.send(o)},getColorTemp:function(t,n){},getRgbColor:function(t){var n=t.info,e="";return e=t.onOff?"rgb("+n.R+","+n.G+","+n.B+")":"rgb(123,123,123)",e},changeR:function(t,n){n.info.R=t.detail.value;var e="!S"+n.no+"_R"+this.getLengthStr(n.info.R)+"_pp#";this.send(e)},changeG:function(t,n){n.info.G=t.detail.value;var e="!S"+n.no+"_G"+this.getLengthStr(n.info.G)+"_pp#";this.send(e)},changeB:function(t,n){n.info.B=t.detail.value;var e="!S"+n.no+"_B"+this.getLengthStr(n.info.B)+"_pp#";this.send(e)},changeH:function(t,n){n.info.H=t.detail.value;var e="!S"+n.no+"_H"+this.getLengthStr(n.info.H)+"_pp#";this.send(e)},changeL:function(t,n){n.info.L=t.detail.value;var e="!S"+n.no+"_L"+this.getLengthStr(n.info.L)+"_pp#";this.send(e)},changeA:function(t,n){n.info.A=t.detail.value;var e="!S"+n.no+"_R"+this.getLengthStr(Math.round(n.info.A*n.info.R/100))+"_G"+this.getLengthStr(Math.round(n.info.A*n.info.G/100))+"_B"+this.getLengthStr(Math.round(n.info.A*n.info.B/100))+"_H"+this.getLengthStr(Math.round(n.info.A*n.info.H/100))+"_L"+this.getLengthStr(Math.round(n.info.A*n.info.L/100))+"_pp#";this.send(e)},changeD:function(t,n){n.info.D=t.detail.value;var e=(0,r.getLightDegree)(n.no,t.detail.value),o="!S"+n.no+"_D"+this.getLengthStr(e)+"_pp#";this.send(o)},sigleLightSetting:function(t){var n="!S"+t.no+"_R"+this.getLengthStr(t.info.R)+"_G"+this.getLengthStr(t.info.G)+"_B"+this.getLengthStr(t.info.B)+"_H"+this.getLengthStr(t.info.H)+"_L"+this.getLengthStr(t.info.L)+"_pp#";if(this.send(n),t.info.D){var e=(0,r.getLightDegree)(t.no,t.info.D);n="!S"+t.no+"_D"+this.getLengthStr(e)+"_pp#",this.send(n)}},send:function(n){this.saveLastSetting(),null!=this.currentLight&&(this.$refs.music.play(),console.log(t(n," at pages\\lightList\\lightList.vue:793")),o.getStorage({key:"logging",success:function(t){var e=t.data,i=(new Date).getTime();e=[i+"---\x3e"+n].concat(a(e)),e.length>20&&(e=e.splice(e.length-20,e.length-1)),o.setStorage({key:"logging",data:e,success:function(){}})},fail:function(t){var e=(new Date).getTime(),i=[e+"---\x3e"+n];o.setStorage({key:"logging",data:i,success:function(){}})}}),this.plugins.sendTcp(n,function(t){},function(t){}))},saveLastSetting:function(){var n={onOff:this.onOff,room1:this.room1,room2:this.room2,desklamps:this.desklamps};o.setStorage({key:"lastSetting",data:n,success:function(){console.log(t("保存之前设置的值"," at pages\\lightList\\lightList.vue:849"))}})},setLight:function(t){t.onOff?(this.currentLight=t,this.$forceUpdate(),this.$refs.popup.open()):o.showToast({title:"灯未开！"})},getLengthStr:function(t){var n=t;return 0==t?n="000":t<10?n="00"+t:t<100&&(n="0"+t),n},savePreset:function(){var t=this,n={name:this.presetName,data:{room1:this.room1,room2:this.room2,desklamps:this.desklamps}};o.getStorage({key:"preset",success:function(e){var i=e.data;i=[n].concat(a(i)),o.setStorage({key:"preset",data:i,success:function(){o.showToast({title:"保存成功！"})}}),t.presetShow=!1},fail:function(e){t.presetShow=!1,o.setStorage({key:"preset",data:[n],success:function(){}})}}),this.$forceUpdate()},userPresert:function(){var t=this;o.showLoading({title:"请稍等..."}),this.room1.lights.forEach(function(n){if(n.onOff){var e="!S"+n.no+"_R"+t.getLengthStr(n.info.R)+"_G"+t.getLengthStr(n.info.G)+"_B"+t.getLengthStr(n.info.B)+"_H"+t.getLengthStr(n.info.H)+"_L"+t.getLengthStr(n.info.L)+"_pp#";t.send(e);var o=(0,r.getLightDegree)(n.no,n.info.D);e="!S"+n.no+"_D"+t.getLengthStr(o)+"_pp#",t.send(e)}}),this.room2.lights.forEach(function(n){if(n.onOff){var e="!S"+n.no+"_R"+t.getLengthStr(n.info.R)+"_G"+t.getLengthStr(n.info.G)+"_B"+t.getLengthStr(n.info.B)+"_H"+t.getLengthStr(n.info.H)+"_L"+t.getLengthStr(n.info.L)+"_pp#";t.send(e);var o=(0,r.getLightDegree)(n.no,n.info.D);e="!S"+n.no+"_D"+t.getLengthStr(o)+"_pp#",t.send(e)}}),this.desklamps.lights.forEach(function(n){if(n.onOff){var e="!S"+n.no+"_R"+t.getLengthStr(n.info.R)+"_G"+t.getLengthStr(n.info.G)+"_B"+t.getLengthStr(n.info.B)+"_H"+t.getLengthStr(n.info.H)+"_L"+t.getLengthStr(n.info.L)+"_pp#";t.send(e)}}),setTimeout(function(){o.hideLoading()},100)}}};n.default=h}).call(this,e("0de9")["default"],e("6e42")["default"])},f39a:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("4698"));function i(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{bg_titlebar:o.default,presetData:[]}},mounted:function(){var n=this;t.getStorage({key:"preset",success:function(t){n.presetData=t.data},fail:function(t){n.presetData=t.data}})},methods:{applyPreset:function(t){this.$emit("applyPreset",t)},clearPreset:function(){this.presetData=[],t.setStorage({key:"preset",data:[],success:function(){t.showToast({title:"删除成功"})}})}}};n.default=r}).call(this,e("6e42")["default"])}},[["5d11","common/runtime","common/vendor"]]]);